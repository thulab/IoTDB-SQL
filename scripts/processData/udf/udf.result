-- [1]8:CREATE FUNCTION example AS 'org.apache.iotdb.udf.UDTFExample'
STRICT{
PASS
}
-- [1]21:CREATE FUNCTION example AS 'org.apache.iotdb.udf.UDTFExample'
STRICT{
PASS
}

-- [1]22:SHOW FUNCTIONS
STRICT{
function name(TEXT)      |function type(TEXT)      |class name (UDF)(TEXT)      |
------------------------------------------------------------------------------
ABS                      |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFAbs           |
------------------------------------------------------------------------------
ACOS                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFAcos          |
------------------------------------------------------------------------------
ASIN                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFAsin          |
------------------------------------------------------------------------------
ATAN                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFAtan          |
------------------------------------------------------------------------------
AVG                      |native                   |                            |
------------------------------------------------------------------------------
BOTTOM_K                 |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFBottomK       |
------------------------------------------------------------------------------
CAST                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCast          |
------------------------------------------------------------------------------
CEIL                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCeil          |
------------------------------------------------------------------------------
CONST                    |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFConst         |
------------------------------------------------------------------------------
COS                      |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCos           |
------------------------------------------------------------------------------
COSH                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCosh          |
------------------------------------------------------------------------------
COUNT                    |native                   |                            |
------------------------------------------------------------------------------
DEGREES                  |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFDegrees       |
------------------------------------------------------------------------------
DERIVATIVE               |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCommonDerivat|
                         |                         |ive                         |
------------------------------------------------------------------------------
DIFFERENCE               |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFCommonValueDi|
                         |                         |fference                    |
------------------------------------------------------------------------------
E                        |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFConstE        |
------------------------------------------------------------------------------
EXAMPLE                  |external UDTF            |org.apache.iotdb.udf.UDTFExa|
                         |                         |mple                        |
------------------------------------------------------------------------------
EXP                      |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFExp           |
------------------------------------------------------------------------------
EXTREME                  |native                   |                            |
------------------------------------------------------------------------------
FIRST_VALUE              |native                   |                            |
------------------------------------------------------------------------------
FLOOR                    |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFFloor         |
------------------------------------------------------------------------------
IN_RANGE                 |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFInRange       |
------------------------------------------------------------------------------
LAST_VALUE               |native                   |                            |
------------------------------------------------------------------------------
LN                       |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFLog           |
------------------------------------------------------------------------------
LOG10                    |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFLog10         |
------------------------------------------------------------------------------
MAX_TIME                 |native                   |                            |
------------------------------------------------------------------------------
MAX_VALUE                |native                   |                            |
------------------------------------------------------------------------------
MIN_TIME                 |native                   |                            |
------------------------------------------------------------------------------
MIN_VALUE                |native                   |                            |
------------------------------------------------------------------------------
NON_NEGATIVE_DERIVATIVE  |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFNonNegativeDe|
                         |                         |rivative                    |
------------------------------------------------------------------------------
NON_NEGATIVE_DIFFERENCE  |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFNonNegativeVa|
                         |                         |lueDifference               |
------------------------------------------------------------------------------
NON_ZERO_COUNT           |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFNonZeroCount  |
------------------------------------------------------------------------------
NON_ZERO_DURATION        |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFNonZeroDurati|
                         |                         |on                          |
------------------------------------------------------------------------------
ON_OFF                   |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFOnOff         |
------------------------------------------------------------------------------
PI                       |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFConstPi       |
------------------------------------------------------------------------------
RADIANS                  |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFRadians       |
------------------------------------------------------------------------------
ROUND                    |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFRound         |
------------------------------------------------------------------------------
SIGN                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFSign          |
------------------------------------------------------------------------------
SIN                      |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFSin           |
------------------------------------------------------------------------------
SINH                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFSinh          |
------------------------------------------------------------------------------
SQRT                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFSqrt          |
------------------------------------------------------------------------------
STRING_CONTAINS          |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFContains      |
------------------------------------------------------------------------------
STRING_MATCHES           |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFMatches       |
------------------------------------------------------------------------------
SUM                      |native                   |                            |
------------------------------------------------------------------------------
TAN                      |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFTan           |
------------------------------------------------------------------------------
TANH                     |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFTanh          |
------------------------------------------------------------------------------
TIME_DIFFERENCE          |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFTimeDifferenc|
                         |                         |e                           |
------------------------------------------------------------------------------
TOP_K                    |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFTopK          |
------------------------------------------------------------------------------
ZERO_COUNT               |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFZeroCount     |
------------------------------------------------------------------------------
ZERO_DURATION            |built-in UDTF            |org.apache.iotdb.db.query.ud|
                         |                         |f.builtin.UDTFZeroDuration  |
总数目：50
}

Elapsed Time: 0.0.6
-- [1]36:create storage group root.sg
STRICT{
PASS
}
-- [1]37:create timeseries root.sg.d1.s1 with datatype=INT32,encoding=RLE
STRICT{
PASS
}
-- [1]38:create timeseries root.sg.d1.s2 with datatype=INT32,encoding=RLE
STRICT{
PASS
}
-- [1]39:insert into root.sg.d1(time,s1,s2) values(1,23,32)
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]40:insert into root.sg.d1(time,s1,s2) values(2,31,19)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]41:insert into root.sg.d1(time,s1,s2) values(3,18,21)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]42:insert into root.sg.d1(time,s1,s2) values(4,20,32)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]43:insert into root.sg.d1(time,s1,s2) values(5,33,17)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]44:insert into root.sg.d1(time,s1,s2) values(6,19,28)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]46:CREATE FUNCTION example AS 'org.apache.iotdb.udf.UDTFExample'
STRICT{
PASS
}

-- [1]47:select * from root.sg.d1
STRICT{
Time(TIME)      |root.sg.d1.s1(INT32)      |root.sg.d1.s2(INT32)      |
--------------------------------------------------------------------
1               |23                        |32                        |
--------------------------------------------------------------------
2               |31                        |19                        |
--------------------------------------------------------------------
3               |18                        |21                        |
--------------------------------------------------------------------
4               |20                        |32                        |
--------------------------------------------------------------------
5               |33                        |17                        |
--------------------------------------------------------------------
6               |19                        |28                        |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]51:SELECT example(*) from root.sg.d1 slimit 1 soffset 1
STRICT{
Time(TIME)      |example(root.sg.d1.s2)(INT32)      |
---------------------------------------------------
1               |-32                                |
---------------------------------------------------
2               |-19                                |
---------------------------------------------------
3               |-21                                |
---------------------------------------------------
4               |-32                                |
---------------------------------------------------
5               |-17                                |
---------------------------------------------------
6               |-28                                |
总数目：6
}

Elapsed Time: 0.0.2

-- [1]54:SELECT example(*) from root.sg.d1 limit 5 offset 1
STRICT{
Time(TIME)      |example(root.sg.d1.s1)(INT32)      |example(root.sg.d1.s2)(INT32)      |
--------------------------------------------------------------------------------------
2               |-31                                |-19                                |
--------------------------------------------------------------------------------------
3               |-18                                |-21                                |
--------------------------------------------------------------------------------------
4               |-20                                |-32                                |
--------------------------------------------------------------------------------------
5               |-33                                |-17                                |
--------------------------------------------------------------------------------------
6               |-19                                |-28                                |
总数目：5
}

Elapsed Time: 0.0.1
-- [1]57:SELECT example(*) from root.sg.d1 align by device
STRICT{
SQLSTATE : 411: Error occurred in query process: ALIGN BY DEVICE clause is not supported in UDF queries.
}

-- [1]60:SELECT example(*) from root.sg.d1 disable align
STRICT{
Timeexample(root.sg.d1.s1)(TIME)      |example(root.sg.d1.s1)(INT32)      |Timeexample(root.sg.d1.s2)(INT64)      |example(root.sg.d1.s2)(INT32)      |
---------------------------------------------------------------------------------------------------------------------------------------------------
1                                     |-23                                |1                                      |-32                                |
---------------------------------------------------------------------------------------------------------------------------------------------------
2                                     |-31                                |2                                      |-19                                |
---------------------------------------------------------------------------------------------------------------------------------------------------
3                                     |-18                                |3                                      |-21                                |
---------------------------------------------------------------------------------------------------------------------------------------------------
4                                     |-20                                |4                                      |-32                                |
---------------------------------------------------------------------------------------------------------------------------------------------------
5                                     |-33                                |5                                      |-17                                |
---------------------------------------------------------------------------------------------------------------------------------------------------
6                                     |-19                                |6                                      |-28                                |
总数目：6
}

Elapsed Time: 0.0.2

-- [1]63:SELECT example(*) from root.sg.d1 where s1 < 20
STRICT{
Time(TIME)      |example(root.sg.d1.s1)(INT32)      |example(root.sg.d1.s2)(INT32)      |
--------------------------------------------------------------------------------------
3               |-18                                |-21                                |
--------------------------------------------------------------------------------------
6               |-19                                |-28                                |
总数目：2
}

Elapsed Time: 0.0.2

-- [1]66:SELECT example(*) from root.sg.d1 where time < 5
STRICT{
Time(TIME)      |example(root.sg.d1.s1)(INT32)      |example(root.sg.d1.s2)(INT32)      |
--------------------------------------------------------------------------------------
1               |-23                                |-32                                |
--------------------------------------------------------------------------------------
2               |-31                                |-19                                |
--------------------------------------------------------------------------------------
3               |-18                                |-21                                |
--------------------------------------------------------------------------------------
4               |-20                                |-32                                |
总数目：4
}

Elapsed Time: 0.0.1

-- [1]69:SELECT example(*) from root.sg.d1
STRICT{
Time(TIME)      |example(root.sg.d1.s1)(INT32)      |example(root.sg.d1.s2)(INT32)      |
--------------------------------------------------------------------------------------
1               |-23                                |-32                                |
--------------------------------------------------------------------------------------
2               |-31                                |-19                                |
--------------------------------------------------------------------------------------
3               |-18                                |-21                                |
--------------------------------------------------------------------------------------
4               |-20                                |-32                                |
--------------------------------------------------------------------------------------
5               |-33                                |-17                                |
--------------------------------------------------------------------------------------
6               |-19                                |-28                                |
总数目：6
}

Elapsed Time: 0.0.1
-- [1]84:CREATE FUNCTION example AS 'org.apache.iotdb.udf.UDTFExample'
STRICT{
PASS
}
-- [1]85:DROP FUNCTION example
STRICT{
PASS
}
