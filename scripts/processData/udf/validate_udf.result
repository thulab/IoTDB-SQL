-- [1]4:create function my_sum as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]7:create function MY_SUM as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 400: Failed to create UDF [MY_SUM], the same name UDF has been created
}
-- [1]9:create function sum as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 400: [TSStatus(code:372, message:Failed to register UDF SUM(com.timecho.udf.normal.MySum), because the given function name conflicts with the built-in function name), TSStatus(code:372, message:Failed to register UDF SUM(com.timecho.udf.normal.MySum), because the given function name conflicts with the built-in function name), TSStatus(code:372, message:Failed to register UDF SUM(com.timecho.udf.normal.MySum), because the given function name conflicts with the built-in function name)]
}
-- [1]11:create function STRING_CONTAINS as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 400: Failed to create UDF [STRING_CONTAINS], the same name UDF has been created
}
-- [1]14:create function my.sum as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:18 mismatched input '.' expecting AS
}
-- [1]15:create function `my.sum` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]17:create function my-sum as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:18 mismatched input '-' expecting AS
}
-- [1]18:create function `my-sum` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]20:create function 求和 as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]21:create function `求和2` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]24:create function  as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:20 missing AS at '"com.timecho.udf.normal.MySum"'
}
-- [1]25:create function `` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]26:create function null as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:16 extraneous input 'null' expecting {ID, QUOTED_ID}
}
-- [1]27:create function `null` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]27:
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:0 mismatched input '<EOF>' expecting {ALTER, CLEAR, COUNT, CREATE, DEACTIVATE, DEBUG, DELETE, DROP, EXPLAIN, FLUSH, FULL, GRANT, INSERT, KILL, LIST, LOAD, MERGE, REMOVE, REVOKE, SELECT, SET, SETTLE, SHOW, START, STOP, TRACING, UNLOAD, UNSET}
EXPECT:PASS
}
-- [1]30:create function 123 as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:16 extraneous input '123' expecting {ID, QUOTED_ID}
}
-- [1]31:create function  `123` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]34:create function `my sum` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}
-- [1]37:create function "my func" as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:16 extraneous input '"my func"' expecting {ID, QUOTED_ID}
}
-- [1]39:create function 'my func2' as "com.timecho.udf.normal.MySum"
STRICT{
SQLSTATE : 401: Error occurred while parsing SQL to physical plan: line 1:16 extraneous input ''my func2'' expecting {ID, QUOTED_ID}
}
-- [1]42:create function `my&func` as "com.timecho.udf.normal.MySum"
STRICT{
PASS
}

-- [1]44:show functions
STRICT{
function name(TEXT)      |function type(TEXT)      |class name (UDF)(TEXT)      |
------------------------------------------------------------------------------
                         |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
求和                       |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
MY.SUM                   |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
NULL                     |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
123                      |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
求和2                      |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
MY&FUNC                  |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
MY-SUM                   |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
MY SUM                   |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
MY_SUM                   |external UDTF            |com.timecho.udf.normal.MySum|
------------------------------------------------------------------------------
TAN                      |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFTan            |
------------------------------------------------------------------------------
LN                       |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFLog            |
------------------------------------------------------------------------------
BOTTOM_K                 |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFBottomK        |
------------------------------------------------------------------------------
TRIM                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFTrim    |
------------------------------------------------------------------------------
TOP_K                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFTopK           |
------------------------------------------------------------------------------
SQRT                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFSqrt           |
------------------------------------------------------------------------------
M4                       |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFM4             |
------------------------------------------------------------------------------
NON_ZERO_COUNT           |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFNonZeroCount   |
------------------------------------------------------------------------------
LOG10                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFLog10          |
------------------------------------------------------------------------------
FLOOR                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFFloor          |
------------------------------------------------------------------------------
CONST                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFConst          |
------------------------------------------------------------------------------
ACOS                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFAcos           |
------------------------------------------------------------------------------
IN_RANGE                 |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFInRange        |
------------------------------------------------------------------------------
CEIL                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCeil           |
------------------------------------------------------------------------------
SIGN                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFSign           |
------------------------------------------------------------------------------
NON_NEGATIVE_DERIVATIVE  |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFNonNegativeDer|
                         |                         |ivative                     |
------------------------------------------------------------------------------
CHANGE_POINTS            |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFChangePoints   |
------------------------------------------------------------------------------
STRCMP                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFStrComp|
                         |                         |are                         |
------------------------------------------------------------------------------
SUBSTR                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFSubstr  |
------------------------------------------------------------------------------
CAST                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCast           |
------------------------------------------------------------------------------
NON_ZERO_DURATION        |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFNonZeroDuratio|
                         |                         |n                           |
------------------------------------------------------------------------------
ENDSWITH                 |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFEndsWit|
                         |                         |h                           |
------------------------------------------------------------------------------
EQUAL_SIZE_BUCKET_AGG_SAM|built-in UDTF            |org.apache.iotdb.commons.udf|
PLE                      |                         |.builtin.UDTFEqualSizeBucke|
                         |                         |tAggSample                  |
------------------------------------------------------------------------------
NON_NEGATIVE_DIFFERENCE  |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFNonNegativeVal|
                         |                         |ueDifference                |
------------------------------------------------------------------------------
ON_OFF                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFOnOff          |
------------------------------------------------------------------------------
MASTER_REPAIR            |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFMasterRepair   |
------------------------------------------------------------------------------
DERIVATIVE               |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCommonDerivati|
                         |                         |ve                          |
------------------------------------------------------------------------------
LOWER                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFLower   |
------------------------------------------------------------------------------
SINH                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFSinh           |
------------------------------------------------------------------------------
SIN                      |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFSin            |
------------------------------------------------------------------------------
TIME_DIFFERENCE          |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFTimeDifference |
------------------------------------------------------------------------------
STRING_MATCHES           |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFMatches        |
------------------------------------------------------------------------------
ATAN                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFAtan           |
------------------------------------------------------------------------------
TANH                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFTanh           |
------------------------------------------------------------------------------
EQUAL_SIZE_BUCKET_OUTLIER|built-in UDTF            |org.apache.iotdb.commons.udf|
_SAMPLE                  |                         |.builtin.UDTFEqualSizeBucke|
                         |                         |tOutlierSample              |
------------------------------------------------------------------------------
STRING_CONTAINS          |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFContains       |
------------------------------------------------------------------------------
E                        |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFConstE         |
------------------------------------------------------------------------------
ROUND                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFRound          |
------------------------------------------------------------------------------
CONCAT                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFConcat  |
------------------------------------------------------------------------------
LENGTH                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFStrLeng|
                         |                         |th                          |
------------------------------------------------------------------------------
ASIN                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFAsin           |
------------------------------------------------------------------------------
JEXL                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFJexl           |
------------------------------------------------------------------------------
UPPER                    |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFUpper   |
------------------------------------------------------------------------------
ABS                      |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFAbs            |
------------------------------------------------------------------------------
DIFFERENCE               |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCommonValueDif|
                         |                         |ference                     |
------------------------------------------------------------------------------
STARTSWITH               |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFStartsW|
                         |                         |ith                         |
------------------------------------------------------------------------------
RADIANS                  |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFRadians        |
------------------------------------------------------------------------------
COSH                     |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCosh           |
------------------------------------------------------------------------------
COS                      |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFCos            |
------------------------------------------------------------------------------
ZERO_DURATION            |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFZeroDuration   |
------------------------------------------------------------------------------
EQUAL_SIZE_BUCKET_RANDOM_|built-in UDTF            |org.apache.iotdb.commons.udf|
SAMPLE                   |                         |.builtin.UDTFEqualSizeBucke|
                         |                         |tRandomSample               |
------------------------------------------------------------------------------
DEGREES                  |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFDegrees        |
------------------------------------------------------------------------------
EQUAL_SIZE_BUCKET_M4_SAMP|built-in UDTF            |org.apache.iotdb.commons.udf|
LE                       |                         |.builtin.UDTFEqualSizeBucke|
                         |                         |tM4Sample                   |
------------------------------------------------------------------------------
PI                       |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFConstPi        |
------------------------------------------------------------------------------
ZERO_COUNT               |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFZeroCount      |
------------------------------------------------------------------------------
LOCATE                   |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.String.UDTFStrLoca|
                         |                         |te                          |
------------------------------------------------------------------------------
EXP                      |built-in UDTF            |org.apache.iotdb.commons.udf|
                         |                         |.builtin.UDTFExp            |
------------------------------------------------------------------------------
MIN_VALUE                |native                   |                            |
------------------------------------------------------------------------------
AVG                      |native                   |                            |
------------------------------------------------------------------------------
LAST_VALUE               |native                   |                            |
------------------------------------------------------------------------------
COUNT                    |native                   |                            |
------------------------------------------------------------------------------
FIRST_VALUE              |native                   |                            |
------------------------------------------------------------------------------
SUM                      |native                   |                            |
------------------------------------------------------------------------------
MAX_TIME                 |native                   |                            |
------------------------------------------------------------------------------
MIN_TIME                 |native                   |                            |
------------------------------------------------------------------------------
EXTREME                  |native                   |                            |
------------------------------------------------------------------------------
MAX_VALUE                |native                   |                            |
总数目：77
}

Elapsed Time: 0.0.2
-- [1]47:set storage group to root.sg1
STRICT{
PASS
}
-- [1]49:CREATE ALIGNED TIMESERIES root.sg1.dev1 (s_1 DATATYPE=INT32 ENCODING=GORILLA, s_2 DATATYPE=INT64 ENCODING=PLAIN, s_3 DATATYPE=float ENCODING=RLE, s_4 DATATYPE=double ENCODING=TS_2DIFF, s_5 DATATYPE=text ENCODING=DICTIONARY, s_6 DATATYPE=boolean ENCODING=PLAIN)
STRICT{
PASS
}
-- [1]50:insert into root.sg1.dev1(time,s_1,s_2,s_3,s_4,s_5,s_6) aligned values (1000,1000,200,100.45,200.55,'non trig',true),(2000,150,2100,100.45,200.55,'non trig',true),(3000,200,220,400.45,200.55,'non trig',true),(4000,250,230,100.45,500.55,'non trig',TRUE),(5000,410,240,100.45,200.55,'single monitor is good enough',1),(6000,310,120,100.45,200.55,'non trig',false),(7000,320,260,100.45,200.55,'non trig',true),(8000,430,270,100.45,200.55,'',true),(9000,340,280,100.45,200.55,'non trig',true),(10000,650,600,800.45,900.55,'this statement is too long to process',0)
STRICT{
0
}

Elapsed Time: 0.0.266
-- [1]53:select my_sum(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select my_sum(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]54:select `my.sum`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `my.sum`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]55:select `my-sum`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `my-sum`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]56:select 求和(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select 求和(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]57:select `求和2`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `求和2`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]58:select ``(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select ``(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]59:select `null`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `null`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]60:select `123`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `123`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]61:select `my sum`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `my sum`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]62:select `my&func`(s_1) from root.sg1.dev1
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "select `my&func`(s_1) from root.sg1.dev1". executeStatement failed. Task was cancelled.
EXPECT:PASS
}
-- [1]67:drop function my_sum
STRICT{
PASS
}
-- [1]68:drop function `my.sum`
STRICT{
PASS
}
-- [1]69:drop function `my-sum`
STRICT{
PASS
}
-- [1]70:drop function 求和
STRICT{
PASS
}
-- [1]71:drop function `求和2`
STRICT{
PASS
}
-- [1]72:drop function ``
STRICT{
PASS
}
-- [1]73:drop function `null`
STRICT{
PASS
}
-- [1]74:drop function `123`
STRICT{
PASS
}
-- [1]75:drop function `my sum`
STRICT{
PASS
}
-- [1]76:drop function `my&func`
STRICT{
PASS
}
